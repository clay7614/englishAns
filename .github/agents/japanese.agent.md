# English Exam Prep App - Claude Agent

このプロジェクトは、英語の再試験対策用Webアプリケーションです。単語テストや文法学習機能を提供します。

## プロジェクト概要

- **技術スタック**: HTML5, CSS3, Vanilla JavaScript, PWA, Python (データ処理)
- **デプロイ**: GitHub Pages
- **対象ブラウザ**: モダンブラウザ（Chrome, Firefox, Safari, Edge）

### 言語とコメント

```yaml
言語設定:
  - すべての出力、説明、ドキュメントは日本語で記述
  - コード内のコメントも日本語で記述
  - 変数名や関数名は英語（説明的な命名を推奨）
  - ユーザーへの応答も日本語
```

### 絵文字の使用禁止

絵文字は一切使用しないでください。すべての箇所（コード、コメント、ドキュメント、コミットメッセージ、メール本文、件名など）で禁止です。

代替表記:
- 強調: `*テキスト*` または `【テキスト】`
- 箇条書き: `*` または `-`
- 区切り線: `=` または `-` の繰り返し

# 日本語コメントで明確に
```

## コミット規約

### プレフィックスルール

```yaml
fix: バグ修正
hotfix: クリティカルなバグ修正
add: 新規（ファイル）機能追加
update: 機能修正（バグではない）
change: 仕様変更
clean: 整理（リファクタリング等）
disable: 無効化（コメントアウト等）
remove: 削除（ファイル）
upgrade: バージョンアップ
revert: 変更取り消し
```

### コミットメッセージ例

```bash
fix: クイズの判定ロジックを修正
add: 新しい単語リストを追加
update: 文法学習ページのレイアウトを調整
clean: 未使用の関数を削除
```

### コミットとプッシュの実行

変更を行った際は、必ずコミットとプッシュを実行してください。

```bash
# PowerShell環境でのコマンド例
$env:Path += ";C:\Program Files\Git\bin"
cd "c:\Users\Tangeken\Documents\GitHub\englishAns"
git add .
git commit -m "fix: バグの説明"
git push
```

コミット対象:
- 新規ファイルの作成
- 既存ファイルの編集・削除
- 機能の追加・修正
- バグ修正
- スタイル・UI変更
- ドキュメント更新

## ファイル構造

```
englishAns/
├── index.html              # メインのクイズページ
├── grammar-study.html      # 文法学習ページ（glammer-2A対応）
├── app.js                  # クイズ機能のメインスクリプト
├── grammar-study.js        # 文法学習機能のスクリプト
├── styles.css              # メインのスタイルシート
├── grammar-study.css       # 文法学習ページ用スタイル
├── pwa.js                  # PWA機能のスクリプト
├── service-worker.js       # サービスワーカー
├── manifest.webmanifest    # PWAマニフェスト
│
├── 601~750.csv             # 単語テスト 601〜750 問題データ
├── 601~750_ja.csv          # 単語テスト 601〜750 日本語訳
├── 751~900.csv             # 単語テスト 751〜900 問題データ
├── 751~900_ja.csv          # 単語テスト 751〜900 日本語訳
├── 901~1050.csv            # 単語テスト 901〜1050 問題データ
├── 901~1050_ja.csv         # 単語テスト 901〜1050 日本語訳
├── 1051~1200.csv           # 単語テスト 1051〜1200 問題データ
├── 1051~1200_ja.csv        # 単語テスト 1051〜1200 日本語訳
├── glammer-2A.csv          # 文法問題 2A 問題データ
├── glammer-2A_ja.csv       # 文法問題 2A 日本語訳
├── glammer-2B.csv          # 文法問題 2B 問題データ
├── glammer-2B_ja.csv       # 文法問題 2B 日本語訳
├── glammer_ja.csv          # 文法問題 共通日本語訳
│
├── glammer-2A-answer-tips.md  # 文法2A 解答のヒント（Markdown）
│
├── icons/                  # PWA用アイコン
│
├── extract_questions.py    # 問題抽出スクリプト
├── fix_data.py             # データ修正スクリプト
├── process_csv.py          # CSV処理スクリプト
├── transform_data.py       # データ変換スクリプト
├── run_*.py                # 各種実行スクリプト
└── serve.py                # ローカルサーバースクリプト
```

### 主要ファイルの説明

| ファイル | 説明 |
|---------|------|
| `index.html` | クイズのメインページ。問題集を選択して学習を開始できる |
| `grammar-study.html` | 文法学習専用ページ。文法ルールの解説と例題練習が可能 |
| `app.js` | クイズ機能のロジック（出題、回答判定、履歴管理など） |
| `grammar-study.js` | 文法学習機能のロジック（文法ルール表示、練習モードなど） |
| `*.csv` | 各問題集の問題データ（CSVフォーマット） |
| `*_ja.csv` | 各問題の日本語訳データ |

### データフォーマット

問題データCSVは以下の形式:
- 1列目: 問題文
- 2〜5列目: 選択肢（A1〜A4）
- 6列目: 正解番号（1〜4、記述式の場合は0）

日本語訳CSVは以下の形式:
- 1列目: 問題文の日本語訳
- 2〜5列目: 各選択肢の日本語訳ール表示、練習モードなど） |
| `*.csv` | 各問題集の問題データ（CSVフォーマット） |
| `*_ja.csv` | 各問題の日本語訳データ |

### データフォーマット

問題データCSVは以下の形式:
- 1列目: 問題文
- 2〜5列目: 選択肢（A1〜A4）
- 6列目: 正解番号（1〜4、記述式の場合は0）

日本語訳CSVは以下の形式:
- 1列目: 問題文の日本語訳
- 2〜5列目: 各選択肢の日本語訳